import{g as y,S as M,c as W,p as H,t as k,d as w,u as $,e as j,r as B}from"./iconoir-DP6JEhh-.js";y.registerPlugin(M);const v=["1","2","3","4"];function S(e){if(!e)return"";if(e.includes(":")){const[s,t]=e.split(":");if(s==="iconoir")return`<i class="iconoir-${t}"></i>`;if(s==="ph"||s==="phosphor")return`<i class="ph-light ph-${t}"></i>`}return`<i class="iconoir-${e}"></i>`}function C(e){const s=document.createElement("div");s.className="cs-metric-card";let t="";return e.icon&&(t=`
      <div class="cs-metric-icon-wrapper">
        <span class="cs-metric-icon">${S(e.icon)}</span>
      </div>
    `),s.innerHTML=`
    <div class="cs-metric-content">
      <div class="cs-metric-top">
        ${t}
        <div class="cs-metric-value">${e.value}</div>
      </div>
      <div class="cs-metric-label">${e.label}</div>
    </div>
    <div class="cs-metric-border" aria-hidden="true"></div>

    <!-- Corner Dots -->
    <div class="cs-metric-dot dot-bottom-right">
      <svg fill="none" preserveAspectRatio="none" viewBox="0 0 8 8">
        <circle cx="4" cy="4"  r="3.5" stroke-width="1" />
      </svg>
    </div>
    <div class="cs-metric-dot dot-top-right">
      <svg fill="none" preserveAspectRatio="none" viewBox="0 0 8 8">
        <circle cx="4" cy="4" r="3.5"  stroke-width="1" />
      </svg>
    </div>
    <div class="cs-metric-dot dot-bottom-left">
      <svg fill="none" preserveAspectRatio="none" viewBox="0 0 8 8">
        <circle cx="4" cy="4" r="3.5" stroke-width="1" />
      </svg>
    </div>
    <div class="cs-metric-dot dot-top-left">
      <svg fill="none" preserveAspectRatio="none" viewBox="0 0 8 8">
        <circle cx="4" cy="4" fill="#FCFDFD" r="3.5"  stroke-width="1" />
      </svg>
    </div>
  `,s}function ve(){const e=document.querySelector("#case-study-page"),s=document.querySelector(".case-study-close");e&&(document.addEventListener("click",t=>{const n=t.target.closest(".open-case-study, .cta-button");if(n){const a=n.getAttribute("href");if(a&&a.startsWith("/"))return;t.preventDefault();const i=n.closest('section[data-section="project"]');i&&i.id,i&&i.querySelector(".project-title")?.textContent;const l=n.getAttribute("data-project-id"),u=n.getAttribute("data-project");let c=l||u;!c&&a&&a.includes("case-study")&&(c=a.replace("#case-study-","")),c&&x(c)}}),s&&s.addEventListener("click",()=>{A()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("active")&&A()}),e.addEventListener("click",t=>{t.target===e&&A()}),ue(),W(".glightbox"))}function x(e){const s=document.querySelector("#case-study-page"),t=document.body;if(!s)return;const n=H[e];if(!n)return;if(s.classList.contains("active"))y.to(".cs-hero, .cs-metrics, .cs-layout-grid",{opacity:0,duration:.15,ease:"power2.in",onComplete:()=>{s.setAttribute("data-current-project",e),s.setAttribute("data-theme",n.theme),k(n.title,e),w("navigate",n.title),q(n),P(e),F(),$(e),s.scrollTop=0;const i=document.querySelector(".cs-sticky-header");i&&i.classList.remove("scrolled"),y.fromTo(".cs-hero, .cs-metrics, .cs-layout-grid",{x:20,opacity:0},{x:0,opacity:1,duration:.25,ease:"power2.out"})}});else{s.setAttribute("data-current-project",e),s.setAttribute("data-theme",n.theme),k(n.title,e),w("open",n.title),q(n),P(e),F(),$(e),s.scrollTop=0;const i=document.querySelector(".cs-sticky-header");i&&i.classList.remove("scrolled"),t.style.overflow="hidden",pe(),s.classList.add("active"),y.fromTo(s,{y:30,opacity:0},{y:0,opacity:1,duration:.4,ease:"power2.out"})}}function q(e){const s=document.querySelector(".cs-hero-title"),t=document.querySelector(".cs-hero-subtitle"),n=document.querySelector(".cs-hero-company"),a=document.querySelector(".cs-hero-overview");s&&(s.innerHTML=e.title),t&&(t.innerHTML=e.subtitle),n&&(n.innerHTML=e.company||""),a&&(a.innerHTML=e.cardOverview);const i=document.querySelector(".cs-hero-tags");i&&e.tags&&(i.innerHTML="",e.tags.forEach(o=>{const m=document.createElement("span");m.className="cs-tag",m.innerHTML=o,i.appendChild(m)}));const l=document.querySelector(".cs-hero-images");if(l){l.innerHTML="";let o=[];e.heroImage?o=[e.heroImage]:e.heroImages&&(o=e.heroImages),o.forEach(m=>{const d=document.createElement("a");d.href=m,d.className="glightbox",d.setAttribute("data-gallery","case-study-gallery"),d.setAttribute("data-title",`${e.title}`);const p=document.createElement("img");p.src=m,p.alt=`${e.title} preview`,d.appendChild(p),l.appendChild(d)})}const u=document.querySelector(".cs-metrics-grid"),c=document.querySelector(".cs-hero-metrics");u&&e.detailMetrics&&(u.innerHTML="",c&&(c.innerHTML=""),e.detailMetrics.forEach(o=>{const m=C(o);if(u.appendChild(m),c){const d=C(o);c.appendChild(d)}}));const r=document.querySelector(".cs-content-container");r&&(e.contentFile?(r.innerHTML='<div class="cs-loading">Loading case study content...</div>',D(e.contentFile).then(o=>{r.innerHTML="";const m={...e,...o};if(o.subtitle){const d=document.querySelector(".cs-hero-subtitle");d&&(d.innerHTML=o.subtitle)}if(o.contentBlocks){const d=o.contentBlocks.find(p=>p.type==="story-hook");if(d&&a){a.innerHTML="",a.className="cs-hero-overview cs-story-hook-style";const p=document.createElement("blockquote");if(p.className="cs-story-hook-quote",p.innerHTML=d.quote,a.appendChild(p),d.context){const h=document.createElement("p");h.className="cs-story-hook-context",h.innerHTML=d.context,a.appendChild(h)}}}if(o.detailMetrics){const d=document.querySelector(".cs-metrics-grid"),p=document.querySelector(".cs-hero-metrics");d&&(d.innerHTML="",p&&(p.innerHTML=""),o.detailMetrics.forEach(h=>{const g=C(h);if(d.appendChild(g),p){const f=C(h);p.appendChild(f)}}))}o.contentBlocks&&o.contentBlocks.forEach(d=>{if(d.type==="story-hook")return;const p=T(d,m);p&&r.appendChild(p)}),B(),setTimeout(()=>R(),100),setTimeout(()=>setupScrollAnimations(),150)}).catch(o=>{console.error("Failed to load case study content:",o),r.innerHTML='<div class="cs-error">Failed to load case study content. Please try again.</div>'})):e.contentBlocks&&(r.innerHTML="",e.contentBlocks.forEach(o=>{if(o.type==="story-hook")return;const m=T(o,e);m&&r.appendChild(m)}),B(),setTimeout(()=>R(),100),setTimeout(()=>setupScrollAnimations(),150)))}async function D(e){try{const t=await fetch(`${e}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(s){throw console.error("Error loading case study content:",s),s}}function T(e,s){let t=null;switch(e.type){case"two-column-with-sidebar":t=V(e,s);break;case"two-column":t=G(e);break;case"two-column-text":t=re(e);break;case"three-column-text":t=oe(e);break;case"text-image-split":t=ee(e);break;case"full-width-text":t=Z(e);break;case"full-width-image":t=z(e);break;case"image-grid":t=K(e);break;case"metrics-inline":t=J(e);break;case"metrics-grid":t=U(e);break;case"content-carousel":t=Y(e);break;case"gallery":t=X(e,s);break;case"story-hook":t=te(e);break;case"timeline-process":t=ne(e);break;case"timeline-horizontal-scroll":t=se(e);break;case"before-after-comparison":t=ce(e);break;case"key-insight":t=ie(e);break;case"container":t=le(e);break;case"image-text-columns":t=de(e);break;case"image-carousel":t=me(e);break;default:return null}return t&&e.sectionTitle&&t.setAttribute("data-section-title",e.sectionTitle),t}function L(e){switch(e.type){case"heading":const s=document.createElement(e.level||"h3");return s.className="cs-text-block-heading",e.html?s.innerHTML=e.html:e.text&&(s.innerHTML=e.text),s;case"paragraph":const t=document.createElement("p");return t.className=e.class||"cs-section-text",e.html?t.innerHTML=e.html:e.text&&(t.innerHTML=e.text),t;case"list":const n=document.createElement(e.style||"ul");return n.className="cs-text-block-list",e.items.forEach(i=>{const l=document.createElement("li");l.innerHTML=i,n.appendChild(l)}),n;case"section":const a=document.createElement("div");if(a.className="cs-text-block-section",e.heading){const i=document.createElement("h3");i.className="cs-text-block-heading",i.innerHTML=e.heading,a.appendChild(i)}return e.blocks&&e.blocks.forEach(i=>{const l=L(i);l&&a.appendChild(l)}),a;default:return null}}function V(e,s){const t=document.createElement("div");t.className="cs-block cs-block-two-column";const n=document.createElement("div");n.className="cs-layout-grid";const a=document.createElement("div");a.className="cs-main-content",e.left.forEach(c=>{const r=document.createElement("section");if(r.className="cs-content-section",c.heading){const o=document.createElement("h2");o.className="cs-section-heading",o.innerHTML=c.heading,r.appendChild(o)}if(c.blocks)c.blocks.forEach(o=>{let m=T(o,s);m||(m=L(o)),m&&r.appendChild(m)});else if(c.text){const o=document.createElement("div");o.className="cs-section-text",o.innerHTML=c.text,r.appendChild(o)}if(c.image){const o=document.createElement("figure");o.className="cs-inline-image";const m=document.createElement("a");m.href=c.image.src,m.className="glightbox",m.setAttribute("data-gallery","case-study-gallery"),c.image.caption&&m.setAttribute("data-description",c.image.caption),c.image.alt&&m.setAttribute("data-title",c.image.alt);const d=N(c.image,"cs-inline-img");if(m.appendChild(d),o.appendChild(m),c.image.caption){const p=document.createElement("figcaption");p.className="cs-image-caption",p.innerHTML=c.image.caption,o.appendChild(p)}r.appendChild(o)}if(c.imageFull){const o=document.createElement("figure");o.className="cs-inline-image-full";const m=document.createElement("a");m.href=c.imageFull.src,m.className="glightbox",m.setAttribute("data-gallery","case-study-gallery"),c.imageFull.caption&&m.setAttribute("data-description",c.imageFull.caption),c.imageFull.alt&&m.setAttribute("data-title",c.imageFull.alt);const d=N(c.imageFull,"cs-inline-img-full");if(m.appendChild(d),o.appendChild(m),c.imageFull.caption){const p=document.createElement("figcaption");p.className="cs-image-caption",p.innerHTML=c.imageFull.caption,o.appendChild(p)}r.appendChild(o)}a.appendChild(r)});const i=document.createElement("aside");i.className="cs-sidebar",e.sidebarClass&&(i.className+=" "+e.sidebarClass);const l=document.createElement("div");l.className="cs-sidebar-content";const u=e.sidebar&&Object.keys(e.sidebar).length>0;return u||i.classList.add("cs-sidebar--empty"),u&&Object.entries(e.sidebar).forEach(([c,r])=>{const o=document.createElement("div");o.className="cs-sidebar-section";const m=document.createElement("h4");m.className="cs-sidebar-title",m.innerHTML=c,m.setAttribute("id",`sidebar-${c.toLowerCase().replace(/\s+/g,"-")}`),o.appendChild(m);const d=document.createElement("dl");d.className="cs-sidebar-list",d.setAttribute("aria-labelledby",m.id),r.forEach(p=>{if(p.includes(":")){const[h,g]=p.split(":").map(b=>b.trim()),f=document.createElement("dt");f.innerHTML=h,f.className="cs-sidebar-term";const E=document.createElement("dd");E.innerHTML=g,E.className="cs-sidebar-definition",d.appendChild(f),d.appendChild(E)}else{const h=document.createElement("dd");h.innerHTML=p,h.className="cs-sidebar-item",d.appendChild(h)}}),o.appendChild(d),l.appendChild(o)}),i.appendChild(l),n.appendChild(a),n.appendChild(i),t.appendChild(n),t}function z(e){const s=document.createElement("div");s.className="cs-block cs-block-full-image";const t=document.createElement("figure");t.className="cs-full-width-image";const n=document.createElement("a");n.href=e.src,n.className="glightbox",n.setAttribute("data-gallery","case-study-gallery"),e.alt&&n.setAttribute("data-title",e.alt);const a=N(e,"cs-full-img");if(n.appendChild(a),t.appendChild(n),e.caption){const i=document.createElement("figcaption");i.className="cs-image-caption",i.innerHTML=e.caption,t.appendChild(i)}return s.appendChild(t),s}function _(e){return[".mov",".mp4",".webm",".ogg"].some(t=>e.toLowerCase().endsWith(t))}function N(e,s=""){const t=document.createElement("img");if(t.src=e.src,t.alt=e.alt||"",s&&(t.className=s),e.hoverImage){const n=e.src,a=e.hoverImage;t.addEventListener("mouseenter",()=>{t.src=a}),t.addEventListener("mouseleave",()=>{t.src=n}),t.setAttribute("data-has-hover","true")}return t}function K(e){const s=document.createElement("div");s.className="cs-block cs-block-image-grid";const t=document.createElement("div");return t.className=`cs-image-grid cs-image-grid-${e.columns||2}`,e.images.forEach(n=>{const a=document.createElement("figure");if(a.className="cs-image-grid-item",_(n.src)){const i=document.createElement("video");i.src=n.src,i.className="cs-grid-video",i.autoplay=!0,i.muted=!0,i.loop=!0,i.playsInline=!0,i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.setAttribute("loop",""),i.setAttribute("playsinline",""),n.alt&&i.setAttribute("aria-label",n.alt),a.appendChild(i)}else{const i=document.createElement("a");i.href=n.src,i.className="glightbox",i.setAttribute("data-gallery","case-study-gallery"),i.setAttribute("data-grid-image","true"),n.caption&&i.setAttribute("data-description",n.caption),n.alt&&i.setAttribute("data-title",n.alt);const l=N(n,"cs-grid-img");i.appendChild(l),a.appendChild(i)}if(n.caption){const i=document.createElement("figcaption");i.className="cs-image-caption",i.innerHTML=n.caption,a.appendChild(i)}t.appendChild(a)}),s.appendChild(t),s}function J(e){const s=document.createElement("div");s.className="cs-block cs-block-metrics-inline";const t=document.createElement("div");return t.className="cs-metrics-inline-grid",e.metrics.forEach(n=>{const a=C(n);t.appendChild(a)}),s.appendChild(t),s}function U(e){const s=document.createElement("div");if(s.className="cs-block cs-block-metrics-grid",e.heading){const n=document.createElement("h2");n.className="cs-section-heading",n.textContent=e.heading,s.appendChild(n)}const t=document.createElement("div");return t.className="cs-metrics-grid",e.metrics.forEach(n=>{n.items.forEach(a=>{const i=C({label:n.title,value:a});t.appendChild(i)})}),s.appendChild(t),s}function Y(e){const s=document.createElement("div");if(s.className="cs-block cs-block-content-carousel",e.heading){const u=document.createElement("h2");u.className="cs-section-heading",u.textContent=e.heading,s.appendChild(u)}const t=document.createElement("div");t.className="cs-carousel-container";const n=document.createElement("button");n.className="cs-carousel-nav cs-carousel-prev",n.setAttribute("aria-label","Previous slide"),n.innerHTML='<i class="iconoir-nav-arrow-left"></i>';const a=document.createElement("button");a.className="cs-carousel-nav cs-carousel-next",a.setAttribute("aria-label","Next slide"),a.innerHTML='<i class="iconoir-nav-arrow-right"></i>';const i=document.createElement("div");i.className="cs-carousel-track",e.items.forEach((u,c)=>{const r=document.createElement("div");r.className="cs-carousel-slide",c===0&&r.classList.add("active");const o=document.createElement("h3");if(o.className="cs-carousel-slide-title",o.textContent=u.title,r.appendChild(o),u.items&&u.items.length>0){const m=document.createElement("div");m.className="cs-carousel-metrics-grid",u.items.forEach(d=>{let p;typeof d=="object"&&d!==null?p=C({icon:d.icon,value:d.value,label:d.label}):p=C({label:u.title,value:d}),m.appendChild(p)}),r.appendChild(m)}i.appendChild(r)}),t.appendChild(n),t.appendChild(i),t.appendChild(a);const l=document.createElement("div");return l.className="cs-carousel-indicators",e.items.forEach((u,c)=>{const r=document.createElement("button");r.className="cs-carousel-indicator",c===0&&r.classList.add("active"),r.setAttribute("aria-label",`Go to slide ${c+1}`),r.dataset.index=c,l.appendChild(r)}),s.appendChild(t),s.appendChild(l),setTimeout(()=>Q(s,e.items.length),100),s}function Q(e,s){let t=0;const n=e.querySelectorAll(".cs-carousel-slide"),a=e.querySelectorAll(".cs-carousel-indicator"),i=e.querySelector(".cs-carousel-prev"),l=e.querySelector(".cs-carousel-next");function u(d){n[t].classList.remove("active"),a[t].classList.remove("active"),t=d,n[t].classList.add("active"),a[t].classList.add("active")}i.addEventListener("click",()=>{const d=t===0?s-1:t-1;u(d)}),l.addEventListener("click",()=>{const d=t===s-1?0:t+1;u(d)}),a.forEach(d=>{d.addEventListener("click",()=>{const p=parseInt(d.dataset.index);u(p)})});let c=!1;const r={root:null,rootMargin:"-20% 0px -20% 0px",threshold:.5},o=new IntersectionObserver(d=>{d.forEach(p=>{c=p.isIntersecting,c?e.setAttribute("data-carousel-active","true"):e.removeAttribute("data-carousel-active")})},r);o.observe(e);const m=d=>{c&&(d.key==="ArrowLeft"||d.key==="ArrowRight")&&(d.preventDefault(),d.stopPropagation(),d.key==="ArrowLeft"?i.click():d.key==="ArrowRight"&&l.click())};document.addEventListener("keydown",m,!0),e.carouselCleanup=()=>{o.disconnect(),document.removeEventListener("keydown",m,!0)}}function X(e,s){const t=document.createElement("div");t.className="cs-block cs-block-gallery";const n=document.createElement("div");n.className="cs-gallery";const a=document.createElement("h3");a.className="cs-section-title",a.textContent="Gallery",n.appendChild(a);const i=document.createElement("div");return i.className="cs-gallery-grid",e.images.forEach((l,u)=>{const c=document.createElement("div");c.className="cs-gallery-item";const r=document.createElement("a");r.href=l,r.className="glightbox",r.setAttribute("data-gallery","case-study-gallery"),r.setAttribute("data-title",`${s.title} - Image ${u+1}`);const o=document.createElement("img");o.src=l,o.alt=`${s.title} - Image ${u+1}`,o.className="cs-gallery-image",r.appendChild(o),c.appendChild(r),i.appendChild(c)}),n.appendChild(i),t.appendChild(n),t}function Z(e){const s=document.createElement("div");s.className="cs-block cs-block-full-text";const t=document.createElement("section");if(t.className="cs-full-text-section",e.heading){const n=document.createElement("h2");n.className="cs-section-heading",n.innerHTML=e.heading,t.appendChild(n)}return e.text&&e.text.split(`

`).forEach(a=>{if(a.trim()){const i=document.createElement("p");i.className="cs-section-text",i.innerHTML=a.trim(),t.appendChild(i)}}),s.appendChild(t),s}function ee(e){const s=document.createElement("div");s.className=`cs-block cs-block-text-image cs-layout-${e.layout||"text-left"}`;const t=document.createElement("div");t.className="cs-text-image-grid";const n=document.createElement("div");if(n.className="cs-text-side",e.heading){const r=document.createElement("h2");r.className="cs-section-heading",r.innerHTML=e.heading,n.appendChild(r)}e.blocks?e.blocks.forEach(r=>{let o=T(r);o||(o=L(r)),o&&n.appendChild(o)}):e.text&&e.text.split(`

`).forEach(o=>{if(o.trim()){const m=document.createElement("p");m.className="cs-section-text",m.innerHTML=o.trim(),n.appendChild(m)}});const a=document.createElement("div");a.className="cs-image-side";const i=document.createElement("figure"),l=document.createElement("a");l.href=e.image,l.className="glightbox",l.setAttribute("data-gallery","case-study-gallery"),e.caption&&l.setAttribute("data-description",e.caption),e.alt&&l.setAttribute("data-title",e.alt);const u={src:e.image,alt:e.alt||"",hoverImage:e.hoverImage},c=N(u,"cs-split-img");if(l.appendChild(c),i.appendChild(l),e.caption){const r=document.createElement("figcaption");r.className="cs-image-caption",r.innerHTML=e.caption,i.appendChild(r)}return a.appendChild(i),e.layout==="text-right"?(t.appendChild(a),t.appendChild(n)):(t.appendChild(n),t.appendChild(a)),s.appendChild(t),s}function te(e){const s=document.createElement("div");s.className="cs-block cs-story-hook";const t=document.createElement("div");t.className="cs-story-hook-content";const n=document.createElement("blockquote");if(n.className="cs-story-hook-quote",n.innerHTML=e.quote,t.appendChild(n),e.context){const a=document.createElement("p");a.className="cs-story-hook-context",a.innerHTML=e.context,t.appendChild(a)}if(s.appendChild(t),e.image){const a=document.createElement("figure");a.className="cs-story-hook-image";const i=document.createElement("a");i.href=e.image,i.className="glightbox",i.setAttribute("data-gallery","case-study-gallery"),e.imageAlt&&i.setAttribute("data-title",e.imageAlt);const l=document.createElement("img");l.src=e.image,l.alt=e.imageAlt||"",i.appendChild(l),a.appendChild(i),s.appendChild(a)}return s}function ne(e){const s=document.createElement("div");if(s.className="cs-block cs-timeline-process",e.heading){const n=document.createElement("h2");n.className="cs-timeline-heading",n.innerHTML=e.heading,s.appendChild(n)}const t=document.createElement("div");return t.className="cs-timeline",e.phases.forEach(n=>{const a=document.createElement("div");if(a.className="cs-timeline-phase",n.icon){const c=document.createElement("span");c.className=`cs-timeline-icon iconoir-${n.icon.replace("iconoir:","")}`,c.innerHTML=`<i class="${n.icon}"></i>`,a.appendChild(c)}const i=document.createElement("div");i.className="cs-timeline-phase-header";const l=document.createElement("h3");l.className="cs-timeline-phase-title",l.innerHTML=n.title,i.appendChild(l);const u=document.createElement("span");if(u.className="cs-timeline-phase-period",u.innerHTML=n.period,i.appendChild(u),a.appendChild(i),Array.isArray(n.content))n.content.forEach(c=>{switch(c.type){case"p":case"paragraph":{const r=document.createElement("p");r.className="cs-timeline-paragraph",r.innerHTML=c.text,a.appendChild(r);break}case"heading":{const r=document.createElement("h4");r.className="cs-timeline-sub-heading",r.innerHTML=c.text,a.appendChild(r);break}case"highlights":{const r=document.createElement("ul");r.className="cs-timeline-highlights",c.items.forEach(o=>{const m=document.createElement("li");m.innerHTML=o,r.appendChild(m)}),a.appendChild(r);break}case"list":{const r=document.createElement("ul");r.className="cs-timeline-list",c.items.forEach(o=>{const m=document.createElement("li");m.innerHTML=o,r.appendChild(m)}),a.appendChild(r);break}case"outcome":{const r=document.createElement("p");r.className="cs-timeline-outcome",r.innerHTML=c.text,a.appendChild(r);break}case"learnings":{const r=document.createElement("p");r.className="cs-timeline-learnings",r.innerHTML=c.text,a.appendChild(r);break}}});else{if(n.highlights&&Array.isArray(n.highlights)){const c=document.createElement("ul");c.className="cs-timeline-highlights",n.highlights.forEach(r=>{const o=document.createElement("li");o.innerHTML=r,c.appendChild(o)}),a.appendChild(c)}if(n.outcome){const c=document.createElement("p");c.className="cs-timeline-outcome",c.innerHTML=n.outcome,a.appendChild(c)}if(n.learnings){const c=document.createElement("p");c.className="cs-timeline-learnings",c.innerHTML=n.learnings,a.appendChild(c)}}t.appendChild(a)}),s.appendChild(t),s}function se(e){const s=document.createElement("div");if(s.className="cs-block cs-timeline-horizontal-scroll",s.setAttribute("data-scroll-hijack","true"),e.heading){const c=document.createElement("h2");c.className="cs-timeline-hs-heading",c.innerHTML=e.heading,s.appendChild(c)}const t=document.createElement("div");t.className="cs-timeline-hs-container";const n=document.createElement("div");n.className="cs-timeline-hs-tabs",e.phases.forEach((c,r)=>{const o=document.createElement("button");if(o.className="cs-timeline-hs-tab",r===0&&o.classList.add("active"),o.setAttribute("data-phase-index",r),c.icon){const p=document.createElement("span");p.className="cs-timeline-hs-tab-icon",p.innerHTML=S(c.icon),o.appendChild(p)}const m=document.createElement("div");m.className="cs-timeline-hs-tab-text";const d=document.createElement("span");if(d.className="cs-timeline-hs-tab-title",d.innerHTML=c.title,m.appendChild(d),c.period){const p=document.createElement("span");p.className="cs-timeline-hs-tab-period",p.innerHTML=c.period,m.appendChild(p)}o.appendChild(m),n.appendChild(o)});const a=document.createElement("div");a.className="cs-timeline-hs-progress-bar";const i=document.createElement("div");i.className="cs-timeline-hs-progress-fill",a.appendChild(i),n.appendChild(a),t.appendChild(n);const l=document.createElement("div");l.className="cs-timeline-hs-phases-wrapper";const u=document.createElement("div");return u.className="cs-timeline-hs-phases",e.phases.forEach((c,r)=>{const o=document.createElement("div");o.className="cs-timeline-hs-phase",r===0&&o.classList.add("active"),o.setAttribute("data-phase-index",r);const m=document.createElement("div");if(m.className="cs-timeline-hs-content-container",c.context){const d=document.createElement("p");d.className="cs-timeline-hs-context",d.innerHTML=c.context,m.appendChild(d)}if(Array.isArray(c.content)){let d=null;c.content.forEach((p,h)=>{if(p.type==="heading"){d&&m.appendChild(d),d=document.createElement("div"),d.className="cs-timeline-hs-section";const g=document.createElement("h4");g.className="cs-timeline-hs-sub-heading",g.innerHTML=p.text,d.appendChild(g)}else switch(d||(d=document.createElement("div"),d.className="cs-timeline-hs-section"),p.type){case"paragraph":{const g=document.createElement("p");g.className="cs-timeline-hs-paragraph",g.innerHTML=p.text,d.appendChild(g);break}case"highlights":{const g=document.createElement("ul");g.className="cs-timeline-hs-highlights",p.items.forEach(f=>{const E=document.createElement("li");E.innerHTML=f,g.appendChild(E)}),d.appendChild(g);break}}h===c.content.length-1&&d&&m.appendChild(d)})}if(o.appendChild(m),c.insight||c.learning||c.action){const d=document.createElement("div");if(d.className="cs-timeline-hs-bottom-container",c.insight){const p=document.createElement("div");if(p.className="cs-timeline-hs-insight",c.insight.icon){const g=document.createElement("span");g.className="cs-timeline-hs-insight-icon",g.innerHTML=S(c.insight.icon),p.appendChild(g)}const h=document.createElement("p");h.className="cs-timeline-hs-insight-text",h.innerHTML=c.insight.text,p.appendChild(h),d.appendChild(p)}if(c.learning){const p=document.createElement("div");p.className="cs-timeline-hs-learning",p.innerHTML=c.learning.text,d.appendChild(p)}if(c.action){const p=document.createElement("div");p.className="cs-timeline-hs-action",p.innerHTML=c.action.html||c.action,d.appendChild(p)}o.appendChild(d)}u.appendChild(o)}),l.appendChild(u),t.appendChild(l),s.appendChild(t),setTimeout(()=>ae(s,e.phases.length),100),s}function ae(e,s){const t=document.querySelector("#case-study-page");if(!t)return;const n=e.querySelectorAll(".cs-timeline-hs-tab"),a=e.querySelectorAll(".cs-timeline-hs-phase"),i=e.querySelector(".cs-timeline-hs-progress-fill");let l=0;n.forEach((c,r)=>{c.addEventListener("click",()=>{u(r)})});function u(c){l=Math.max(0,Math.min(c,s-1)),n.forEach((o,m)=>{m===l?o.classList.add("active"):o.classList.remove("active")}),a.forEach((o,m)=>{m===l?o.classList.add("active"):o.classList.remove("active")});const r=l/(s-1)*100;i&&(i.style.width=`${r}%`)}t.addEventListener("scroll",()=>{const c=e.getBoundingClientRect(),r=window.innerHeight;if(c.top<r&&c.bottom>0){const m=c.height,d=r-c.top,h=Math.max(0,Math.min(1,d/m))*(s-1),g=Math.floor(h);g!==l&&u(g)}}),u(0)}function ce(e){const s=document.createElement("div");if(s.className="cs-block cs-before-after",e.heading){const u=document.createElement("h2");u.className="cs-before-after-heading",u.innerHTML=e.heading,s.appendChild(u)}const t=document.createElement("div");t.className="cs-before-after-grid";const n=document.createElement("div");n.className="cs-before-after-col cs-before-col";const a=document.createElement("h3");if(a.className="cs-before-after-label",a.innerHTML=e.before.label||"Before",n.appendChild(a),e.before.items&&e.before.items.length>0){const u=document.createElement("ul");u.className="cs-before-after-list cs-before-list",e.before.items.forEach(c=>{const r=document.createElement("li");r.innerHTML=`<i class="iconoir-xmark"></i><span>${c}</span>`,u.appendChild(r)}),n.appendChild(u)}if(e.before.image){const u=document.createElement("a");u.href=e.before.image,u.className="glightbox",u.setAttribute("data-gallery","case-study-gallery"),u.setAttribute("data-title",e.before.imageAlt||"Before state");const c=document.createElement("img");c.src=e.before.image,c.alt=e.before.imageAlt||"Before state",c.className="cs-before-after-image",u.appendChild(c),n.appendChild(u)}t.appendChild(n);const i=document.createElement("div");i.className="cs-before-after-col cs-after-col";const l=document.createElement("h3");if(l.className="cs-before-after-label",l.innerHTML=e.after.label||"After",i.appendChild(l),e.after.items&&e.after.items.length>0){const u=document.createElement("ul");u.className="cs-before-after-list cs-after-list",e.after.items.forEach(c=>{const r=document.createElement("li");r.innerHTML=`<i class="iconoir-check"></i><span>${c}</span>`,u.appendChild(r)}),i.appendChild(u)}if(e.after.image){const u=document.createElement("a");u.href=e.after.image,u.className="glightbox",u.setAttribute("data-gallery","case-study-gallery"),u.setAttribute("data-title",e.after.imageAlt||"After state");const c=document.createElement("img");c.src=e.after.image,c.alt=e.after.imageAlt||"After state",c.className="cs-before-after-image",u.appendChild(c),i.appendChild(u)}return t.appendChild(i),s.appendChild(t),s}function ie(e){const s=document.createElement("div");s.className="cs-block cs-key-insight";const t=document.createElement("div");t.className="cs-key-insight-content";const n=document.createElement("div");if(n.className="cs-key-insight-header",e.icon){const a=document.createElement("span");a.className=`cs-key-insight-icon ${e.icon}`,a.innerHTML=`<i class="${e.icon}"></i>`,n.appendChild(a)}if(e.title){const a=document.createElement("h3");a.className="cs-key-insight-title",a.innerHTML=e.title,n.appendChild(a)}if(t.appendChild(n),e.insight){const a=document.createElement("p");a.className="cs-key-insight-text",a.innerHTML=e.insight,t.appendChild(a)}if(e.result){const a=document.createElement("p");a.className="cs-key-insight-result",a.innerHTML=`<strong>→ Result:</strong> ${e.result}`,t.appendChild(a)}return s.appendChild(t),s}function G(e){const s=document.createElement("div");s.className="cs-block cs-block-two-column";const t=document.createElement("div");return t.className="cs-two-column-grid",e.columns&&e.columns.length>0&&e.columns.forEach(n=>{const a=document.createElement("div");if(a.className="cs-column",n.heading){const i=document.createElement("h3");i.className="cs-column-heading",i.innerHTML=n.heading,a.appendChild(i)}if(n.blocks&&n.blocks.forEach(i=>{let l=T(i);l||(l=L(i)),l&&a.appendChild(l)}),n.image){const i=document.createElement("figure");i.className="cs-column-image";const l=document.createElement("a");l.href=n.image,l.className="glightbox",l.setAttribute("data-gallery","case-study-gallery"),n.alt&&l.setAttribute("data-title",n.alt),n.caption&&l.setAttribute("data-description",n.caption);const u={src:n.image,alt:n.alt||"",hoverImage:n.hoverImage},c=N(u,"cs-column-img");if(l.appendChild(c),i.appendChild(l),n.caption){const r=document.createElement("figcaption");r.className="cs-image-caption",r.innerHTML=n.caption,i.appendChild(r)}a.appendChild(i)}t.appendChild(a)}),s.appendChild(t),s}function re(e){return G(e)}function oe(e){const s=document.createElement("div");s.className=`cs-block cs-block-three-column-text${e.class?" "+e.class:""}`;const t=document.createElement("div");return t.className="cs-three-column-grid",e.columns&&e.columns.length>0&&e.columns.forEach(n=>{const a=document.createElement("div");if(a.className=`cs-text-column${n.class?" "+n.class:""}`,n.heading){const i=document.createElement("h3");i.className="cs-column-heading",i.innerHTML=n.heading,a.appendChild(i)}n.blocks&&n.blocks.forEach(i=>{const l=L(i);l&&a.appendChild(l)}),t.appendChild(a)}),s.appendChild(t),s}function le(e){const s=document.createElement("div");if(s.className=`cs-block cs-container${e.class?" "+e.class:""}`,e.heading){const t=document.createElement("h3");t.className="cs-container-heading",t.innerHTML=e.heading,s.appendChild(t)}return e.blocks&&e.blocks.forEach(t=>{if(t.html){const n=document.createElement("div");n.innerHTML=t.html,s.appendChild(n)}else{const n=L(t);n&&s.appendChild(n)}}),s}function de(e){const s=document.createElement("div");s.className="cs-block cs-image-text-columns";const t=document.createElement("div");t.className="cs-image-text-grid";const n=document.createElement("div");n.className="cs-images-column";const a=document.createElement("div");if(a.className="cs-images-wrapper",e.images&&e.images.length>0&&e.images.forEach((l,u)=>{const c=document.createElement("a");c.href=l.src||l,c.className="glightbox",c.setAttribute("data-gallery","case-study-gallery"),c.setAttribute("data-title",l.alt||"");const r=document.createElement("img");r.src=l.src||l,r.alt=l.alt||"",u===1&&e.images.length===2&&c.classList.add("cs-image-hover"),c.appendChild(r),a.appendChild(c)}),n.appendChild(a),e.caption||e.imagesCaption){const l=document.createElement("p");l.className="cs-images-caption",l.innerHTML=e.caption||e.imagesCaption,n.appendChild(l)}t.appendChild(n);const i=document.createElement("div");if(i.className="cs-text-column",e.heading){const l=document.createElement("h3");l.innerHTML=e.heading,i.appendChild(l)}if(e.blocks&&e.blocks.length>0)e.blocks.forEach(l=>{const u=L(l);u&&i.appendChild(u)});else if(e.text){const l=document.createElement("p");l.innerHTML=e.text,i.appendChild(l)}return t.appendChild(i),s.appendChild(t),s}function me(e){const s=document.createElement("div");s.className="cs-block cs-image-carousel";const t=document.createElement("div");if(t.className="cs-carousel-container",e.images&&e.images.length>0){if(e.images.forEach((l,u)=>{const c=document.createElement("div");c.className="cs-carousel-slide",u===0&&c.classList.add("active");const r=document.createElement("a");r.href=l.src||l,r.className="glightbox",r.setAttribute("data-gallery","case-study-gallery");const o=l.alt||e.alt||"";o&&r.setAttribute("data-title",o);const m={src:l.src||l,alt:o,hoverImage:l.hoverImage},d=N(m,"cs-carousel-img");r.appendChild(d),c.appendChild(r),t.appendChild(c)}),e.caption){const l=document.createElement("p");l.className="cs-carousel-caption cs-image-caption",l.innerHTML=e.caption,s.appendChild(l)}let n=0;const a=t.querySelectorAll(".cs-carousel-slide"),i=e.interval||3e3;setInterval(()=>{a[n].classList.remove("active"),n=(n+1)%a.length,a[n].classList.add("active")},i)}return s.appendChild(t),s}function A(){const e=document.querySelector("#case-study-page"),s=document.body,t=document.querySelector(".cs-side-nav");if(!e)return;const n=e.getAttribute("data-current-project");if(n){const a=H[n];a&&w("close",a.title)}t&&t.classList.remove("active"),y.to(e,{opacity:0,y:20,duration:.3,ease:"power2.in",onComplete:()=>{e.classList.remove("active"),s.style.overflow="",he(),j()}})}function P(e){const s=document.querySelector(".cs-breadcrumbs");if(!s)return;s.innerHTML="";const t=v.indexOf(e),n=t>0?t-1:v.length-1,a=t<v.length-1?t+1:0,i=v[n],l=v[a],u=H[i],c=H[l],r=document.createElement("button");r.className="cs-breadcrumb-nav cs-breadcrumb-prev",r.setAttribute("data-project",i),r.innerHTML=`
    <span class="cs-nav-label">← Previous</span>
    <span class="cs-nav-title">${u.title}</span>
  `,r.addEventListener("click",()=>x(i)),s.appendChild(r);const o=document.createElement("button");o.className="cs-breadcrumb-nav cs-breadcrumb-next",o.setAttribute("data-project",l),o.innerHTML=`
    <span class="cs-nav-label">Next →</span>
    <span class="cs-nav-title">${c.title}</span>
  `,o.addEventListener("click",()=>x(l)),s.appendChild(o)}function F(){const e=document.querySelector("#case-study-page");if(!e)return;e._keyboardHandler&&document.removeEventListener("keydown",e._keyboardHandler);const s=t=>{if(!e.classList.contains("active"))return;const n=e.getAttribute("data-current-project"),a=v.indexOf(n);if(t.key==="ArrowRight"||t.key==="ArrowDown"){t.preventDefault();const i=(a+1)%v.length;x(v[i])}else if(t.key==="ArrowLeft"||t.key==="ArrowUp"){t.preventDefault();const i=(a-1+v.length)%v.length;x(v[i])}};e._keyboardHandler=s,document.addEventListener("keydown",s)}function ue(){const e=document.querySelector("#case-study-page"),s=document.querySelector(".cs-sticky-header"),t=document.querySelector(".cs-metrics");if(!e||!s)return;let n=!1;e.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(()=>{e.scrollTop>0?(s.classList.add("scrolled"),t&&(t.style.display="none")):(s.classList.remove("scrolled"),t&&(t.style.display="block")),n=!1}),n=!0)})}function pe(){const e=document.querySelector(".ellipse-decor");e&&e.classList.remove("visible");const s=document.querySelector(".scroll-hint");s&&(s.style.opacity="0")}function he(){const e=document.querySelector("#about");if(!e)return;const s=e.getBoundingClientRect();if(s.top<window.innerHeight&&s.bottom>0){const n=document.querySelector(".ellipse-decor");n&&n.classList.add("visible");const a=document.querySelector(".scroll-hint");a&&(a.style.opacity="1")}}function R(){const e=document.querySelector("#case-study-page");if(!e)return;const s=document.querySelector(".cs-side-nav"),t=document.querySelector(".cs-side-nav-list"),n=document.querySelector(".cs-side-nav-indicator"),a=e.querySelector(".cs-content-container");if(!s||!t||!n)return;const i=[],l=[];if(a&&a.querySelectorAll(".cs-block").forEach(o=>{const m=o.getAttribute("data-section-title");m&&(i.push(o),l.push(m))}),i.length===0)return;t.innerHTML="",i.forEach((r,o)=>{r.id=`cs-section-${o+1}`;const m=document.createElement("li");m.className="cs-side-nav-item";const d=document.createElement("a");if(d.className="cs-side-nav-link",d.href=`#cs-section-${o+1}`,d.dataset.sectionIndex=o,l[o]){const h=document.createElement("span");h.className="cs-side-nav-label",h.textContent=l[o],d.appendChild(h)}const p=document.createElement("span");p.className="cs-side-nav-number",p.textContent=String(o+1).padStart(2,"0"),d.appendChild(p),d.addEventListener("click",h=>{h.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"})}),m.appendChild(d),t.appendChild(m)});const u=()=>{e.scrollTop>0?s.classList.add("active"):s.classList.remove("active")};c(),e.addEventListener("scroll",()=>{requestAnimationFrame(()=>{u(),c()})},{passive:!0}),window.addEventListener("resize",c);function c(){const r=t.querySelectorAll(".cs-side-nav-link"),o=e.scrollTop,m=e.clientHeight,d=o+m/2;let p=0,h=1/0;i.forEach((f,E)=>{const b=f.getBoundingClientRect(),O=o+b.top+b.height/2,I=Math.abs(d-O);I<h&&(h=I,p=E)}),r.forEach((f,E)=>{E===p?f.classList.add("active"):f.classList.remove("active")});const g=r[p];if(g){const f=g.getBoundingClientRect(),E=t.getBoundingClientRect(),b=f.top-E.top;y.to(n,{y:b,height:f.height,duration:.4,ease:"power2.out"})}}}async function ye(e){try{const n=(await(await fetch("/data/projects.json")).json()).find(a=>a.id===e);if(!n){console.error(`Project with ID ${e} not found`);return}q(n),setTimeout(()=>{typeof GLightbox<"u"&&GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,closeButton:!0,closeOnOutsideClick:!0,slideEffect:"fade",descPosition:"bottom",onOpen:()=>{const a=document.querySelector(".glightbox-container");a&&a.querySelector(".gslide-image")?.closest(".cs-image-grid")&&a.classList.add("has-navigation")},onSlideChanged:()=>{const a=document.querySelector(".glightbox-container");a&&(document.querySelector(".gslide.current")?.querySelector("[data-grid-image]")?a.classList.add("has-navigation"):a.classList.remove("has-navigation"))}}),ge()},100)}catch(s){console.error("Error loading case study:",s)}}function ge(){const e=document.querySelectorAll(".cs-metric-card");e.length>0&&(y.set(e,{opacity:0,y:30}),e.forEach((t,n)=>{M.create({trigger:t,start:"top 85%",once:!0,onEnter:()=>{y.to(t,{opacity:1,y:0,duration:.6,delay:n*.1,ease:"power2.out"})}})}));const s=document.querySelectorAll(".cs-timeline-phase");s.length>0&&(y.set(s,{opacity:0,x:-30}),s.forEach((t,n)=>{M.create({trigger:t,start:"top 85%",once:!0,onEnter:()=>{y.to(t,{opacity:1,x:0,duration:.7,delay:n*.15,ease:"power2.out"})}})}))}export{ve as initCaseStudy,ye as initCaseStudyStandalone};
